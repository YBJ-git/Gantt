# 🚀 MyProject 배포 가이드

## 📋 배포 준비 완료 상태

✅ **프론트엔드 빌드 완료** (build/ 폴더)
✅ **백엔드 API 서버 준비** (app.js)
✅ **PWA 기능 완전 구현**
✅ **테스트 환경 구축**
✅ **배포 설정 파일 준비**

---

## 🌐 1. 프론트엔드 배포 (Netlify)

### 자동 배포 방법:
```bash
# 1. GitHub 저장소에 코드 푸시
git add .
git commit -m "Production ready deployment"
git push origin main

# 2. Netlify에서 자동 배포 (netlify.toml 설정됨)
```

### 수동 배포 방법:
1. **Netlify 대시보드** 접속
2. **Sites** → **Add new site** → **Deploy manually**
3. `C:\MyProject\frontend\build` 폴더를 드래그 앤 드롭
4. 배포 완료 후 도메인 확인

### 환경 변수 설정 (Netlify):
```
REACT_APP_API_URL=https://your-backend-url.onrender.com/api
REACT_APP_WS_URL=wss://your-backend-url.onrender.com
```

---

## 🗄️ 2. 백엔드 배포 (Render)

### render.yaml 설정 완료:
- ✅ PostgreSQL 데이터베이스 자동 생성
- ✅ Redis 캐시 서비스 연결
- ✅ 환경 변수 자동 설정
- ✅ 헬스체크 엔드포인트 설정

### 배포 단계:
1. **Render 대시보드** 접속 (render.com)
2. **New** → **Blueprint** 선택
3. GitHub 저장소 연결
4. `render.yaml` 파일 자동 인식 후 배포

### 생성되는 서비스:
- **API 서버**: `workload-optimization-api`
- **PostgreSQL**: `workload-postgres`
- **Redis**: `workload-cache`

---

## 🔧 3. 환경 변수 구성

### 프론트엔드 (.env.production):
```env
REACT_APP_API_URL=https://workload-optimization-api.onrender.com/api
REACT_APP_WS_URL=wss://workload-optimization-api.onrender.com
REACT_APP_VERSION=1.0.0
REACT_APP_ENVIRONMENT=production
```

### 백엔드 (Render 자동 설정):
```env
NODE_ENV=production
PORT=3000
DB_HOST=<auto-generated>
DB_PASSWORD=<auto-generated>
JWT_SECRET=<auto-generated>
CORS_ORIGIN=https://your-netlify-site.netlify.app
```

---

## 🧪 4. 배포 후 테스트

### 필수 체크리스트:
- [ ] **헬스체크**: `https://your-api.onrender.com/api/health`
- [ ] **프론트엔드 로딩**: 모든 페이지 접근 가능
- [ ] **PWA 기능**: 앱 설치 가능
- [ ] **실시간 기능**: WebSocket 연결 확인
- [ ] **API 연동**: 로그인/회원가입 테스트
- [ ] **오프라인 모드**: 네트워크 차단 후 동작 확인

### 성능 테스트:
```bash
# Lighthouse 성능 측정
npm install -g lighthouse
lighthouse https://your-netlify-site.netlify.app --view
```

---

## 📊 5. 모니터링 설정

### 로그 확인:
- **Render**: 대시보드에서 실시간 로그 확인
- **Netlify**: Function logs 및 빌드 로그

### 성능 모니터링:
- **Render**: 자동 CPU/메모리 모니터링
- **Netlify**: Analytics 및 Core Web Vitals

---

## 🔒 6. 보안 설정

### 이미 적용된 보안 기능:
- ✅ **Helmet**: 보안 헤더 설정
- ✅ **CORS**: 출처 제한
- ✅ **Rate Limiting**: API 호출 제한
- ✅ **JWT 인증**: 토큰 기반 인증
- ✅ **입력 검증**: 모든 입력 데이터 검증

### 추가 보안 설정:
- **HTTPS 강제**: Netlify/Render에서 자동 설정됨
- **CSP 헤더**: 필요시 helmet 설정에서 추가
- **API 키 보안**: 환경 변수로 관리

---

## 🚀 7. 즉시 배포 명령어

### 원클릭 배포:
```bash
# 프로젝트 디렉토리에서 실행
cd C:\MyProject

# 1. 프론트엔드 최종 빌드 (이미 완료됨)
cd frontend
npm run build

# 2. 배포 스크립트 실행 (준비된 경우)
npm run deploy

# 3. 또는 Git을 통한 자동 배포
git add .
git commit -m "🚀 Production deployment"
git push origin main
```

---

## 🎯 8. 배포 후 URL

배포 완료 후 접근 가능한 URL:
- **프론트엔드**: `https://workload-optimization-system.netlify.app`
- **백엔드 API**: `https://workload-optimization-api.onrender.com`
- **헬스체크**: `https://workload-optimization-api.onrender.com/api/health`
- **WebSocket**: `wss://workload-optimization-api.onrender.com/ws`

---

## ✅ 배포 성공 확인

모든 단계 완료 후:
1. **웹사이트 접속** → 정상 로딩 확인
2. **회원가입/로그인** → API 연동 확인  
3. **PWA 설치** → 브라우저에서 "앱 설치" 버튼 확인
4. **오프라인 테스트** → 네트워크 차단 후 일부 기능 동작 확인
5. **실시간 기능** → WebSocket 연결 및 알림 확인

**🎉 축하합니다! 프로덕션 환경 배포가 완료되었습니다!**
